!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).morphdom=t()}(this,function(){"use strict";var e;function t(e,...t){if("function"==typeof t[0].hasAttribute)return e(...t)}var r="undefined"==typeof document?void 0:document,n=!!r&&"content"in r.createElement("template"),i=!!r&&r.createRange&&"createContextualFragment"in r.createRange();function o(t){return t=t.trim(),n?function(e){var t=r.createElement("template");return t.innerHTML=e,t.content.childNodes[0]}(t):i?function(t){return e||(e=r.createRange()).selectNode(r.body),e.createContextualFragment(t).childNodes[0]}(t):function(e){var t=r.createElement("body");return t.innerHTML=e,t.childNodes[0]}(t)}function a(e,t){var r,n,i=e.nodeName,o=t.nodeName;return i===o||(r=i.charCodeAt(0),n=o.charCodeAt(0),r<=90&&n>=97?i===o.toUpperCase():n<=90&&r>=97&&o===i.toUpperCase())}function s(e,t,r){e[r]!==t[r]&&(e[r]=t[r],e[r]?e.setAttribute(r,""):e.removeAttribute(r))}var d={OPTION:function(e,t){var r=e.parentNode;if(r){var n=r.nodeName.toUpperCase();"OPTGROUP"===n&&(n=(r=r.parentNode)&&r.nodeName.toUpperCase()),"SELECT"!==n||r.hasAttribute("multiple")||(e.hasAttribute("selected")&&!t.selected&&(e.setAttribute("selected","selected"),e.removeAttribute("selected")),r.selectedIndex=-1)}s(e,t,"selected")},INPUT:function(e,t){s(e,t,"checked"),s(e,t,"disabled"),e.value!==t.value&&(e.value=t.value),t.hasAttribute("value")||e.removeAttribute("value")},TEXTAREA:function(e,t){var r=t.value;e.value!==r&&(e.value=r);var n=e.firstChild;if(n){var i=n.nodeValue;if(i==r||!r&&i==e.placeholder)return;n.nodeValue=r}},SELECT:function(e,t){if(!t.hasAttribute("multiple")){for(var r,n,i=-1,o=0,a=e.firstChild;a;)if("OPTGROUP"===(n=a.nodeName&&a.nodeName.toUpperCase()))a=(r=a).firstChild;else{if("OPTION"===n){if(a.hasAttribute("selected")){i=o;break}o++}!(a=a.nextSibling)&&r&&(a=r.nextSibling,r=null)}e.selectedIndex=i}}};function l(){}function u(e){if(e)return e.getAttribute&&e.getAttribute("id")||e.id}var c=function(e){return function(n,i,s){if(s||(s={}),"string"==typeof i)if("#document"===n.nodeName||"HTML"===n.nodeName||"BODY"===n.nodeName){var c=i;(i=r.createElement("html")).innerHTML=c}else i=o(i);else 11===i.nodeType&&(i=i.firstElementChild);var h=s.getNodeKey||u,f=s.onBeforeNodeAdded||l,m=s.onNodeAdded||l,p=s.onBeforeElUpdated||l,b=s.onElUpdated||l,v=s.onBeforeNodeDiscarded||l,E=s.onNodeDiscarded||l,g=s.onBeforeElChildrenUpdated||l,A=!0===s.childrenOnly,y=Object.create(null),w=[];function N(e){w.push(e)}function R(e,r){if(1===e.nodeType)for(var n=e.firstChild;n;){var i=void 0;r&&(i=t(h,n))?N(i):(t(E,n),n.firstChild&&R(n,r)),n=n.nextSibling}}function T(e,r,n){!1!==t(v,e)&&(r&&r.removeChild(e),t(E,e),R(e,n))}function C(e){if(t(m,e),!e.skipAddingChildren)for(var r=e.firstChild;r;){var n=r.nextSibling,i=t(h,r);if(i){var o=y[i];o&&a(r,o)?(r.parentNode.replaceChild(o,r),x(o,r)):C(r)}else C(r);r=n}}function x(n,i,o){var s=t(h,i);if(s&&delete y[s],!o){if(!1===t(p,n,i))return;if(n.skipElUpdatingButStillUpdateChildren||e(n,i),t(b,n),!1===t(g,n,i))return}"TEXTAREA"!==n.nodeName?function(e,n){var i,o,s,l,u,c=n.firstChild,m=e.firstChild;e:for(;c;){for(l=c.nextSibling,i=t(h,c);m;){if(s=m.nextSibling,c.isSameNode&&c.isSameNode(m)){c=l,m=s;continue e}o=t(h,m);var p=m.nodeType,b=void 0;if(p===c.nodeType&&(1===p?(i?i!==o&&((u=y[i])?s===u?b=!1:(e.insertBefore(u,m),o?N(o):T(m,e,!0),m=u):b=!1):o&&(b=!1),(b=!1!==b&&a(m,c))&&(!c.isEqualNode(m)&&c.nextElementSibling&&c.nextElementSibling.isEqualNode(m)?b=!1:x(m,c))):3!==p&&8!=p||(b=!0,m.nodeValue!==c.nodeValue&&(m.nodeValue=c.nodeValue))),b){c=l,m=s;continue e}if(c.nextElementSibling&&c.nextElementSibling.isEqualNode(m)){const t=c.cloneNode(!0);e.insertBefore(t,m),C(t),c=c.nextElementSibling.nextSibling,m=s;continue e}o?N(o):T(m,e,!0),m=s}if(i&&(u=y[i])&&a(u,c))e.appendChild(u),x(u,c);else{var v=t(f,c);!1!==v&&(v&&(c=v),c.actualize&&(c=c.actualize(e.ownerDocument||r)),e.appendChild(c),C(c))}c=l,m=s}!function(e,r,n){for(;r;){var i=r.nextSibling;(n=t(h,r))?N(n):T(r,e,!0),r=i}}(e,m,o);var E=d[e.nodeName];E&&E(e,n)}(n,i):n.innerHTML!=i.innerHTML&&d.TEXTAREA(n,i)}!function e(r){if(1===r.nodeType||11===r.nodeType)for(var n=r.firstChild;n;){var i=t(h,n);i&&(y[i]=n),e(n),n=n.nextSibling}}(n);var S,L,k=n,H=k.nodeType,B=i.nodeType;if(!A)if(1===H)1===B?a(n,i)||(t(E,n),k=function(e,t){for(var r=e.firstChild;r;){var n=r.nextSibling;t.appendChild(r),r=n}return t}(n,(S=i.nodeName,(L=i.namespaceURI)&&"http://www.w3.org/1999/xhtml"!==L?r.createElementNS(L,S):r.createElement(S)))):k=i;else if(3===H||8===H){if(B===H)return k.nodeValue!==i.nodeValue&&(k.nodeValue=i.nodeValue),k;k=i}if(k===i)t(E,n);else{if(i.isSameNode&&i.isSameNode(k))return;if(x(k,i,A),w)for(var D=0,I=w.length;D<I;D++){var V=y[w[D]];V&&T(V,V.parentNode,!1)}}return!A&&k!==n&&n.parentNode&&(k.actualize&&(k=k.actualize(n.ownerDocument||r)),n.parentNode.replaceChild(k,n)),k}}(function(e,t){var r,n,i,o,a=t.attributes;if(11!==t.nodeType&&11!==e.nodeType){for(var s=a.length-1;s>=0;s--)n=(r=a[s]).name,i=r.namespaceURI,o=r.value,i?(n=r.localName||n,e.getAttributeNS(i,n)!==o&&("xmlns"===r.prefix&&(n=r.name),e.setAttributeNS(i,n,o))):e.getAttribute(n)!==o&&e.setAttribute(n,o);for(var d=e.attributes,l=d.length-1;l>=0;l--)n=(r=d[l]).name,(i=r.namespaceURI)?(n=r.localName||n,t.hasAttributeNS(i,n)||e.removeAttributeNS(i,n)):t.hasAttribute(n)||e.removeAttribute(n)}});return c});class Reactables{components=[];listeners={};errorHandler;expiredHandler;overflow;init(){this.components=[],document.querySelectorAll("[r\\:id]").forEach(e=>{this.components.push(new ReactablesComponent(e))});const e=new Event("reactables:ready");document.dispatchEvent(e),this.components.forEach(e=>{e.dispatchComponentEvents([{name:"reactables:mounted"}])})}all(){return this.components}find(e){return this.components.find(t=>t.id==e)}on(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}onError(e){this.errorHandler=e}onPageExpired(e){this.expiredHandler=e}showError(e){const t=document.createElement("html");t.innerHTML=e;const r=document.createElement("div");r.style.cssText="position:fixed;inset:0;padding:30px;z-index:999999;background:rgba(0,0,0,.7);";const n=document.createElement("iframe");n.style.cssText="width:100%;height:100%;border-radius:5px;",r.appendChild(n),document.body.prepend(r),this.overflow=document.body.style.overflow,document.body.style.overflow="hidden",n.contentWindow.document.open(),n.contentWindow.document.write(t.outerHTML),n.contentWindow.document.close(),r.addEventListener("click",()=>{r.remove(),document.body.style.overflow=this.overflow}),r.setAttribute("tabindex",0),r.addEventListener("keydown",e=>{"Escape"===e.key&&(r.remove(),document.body.style.overflow=this.overflow)}),r.focus()}showExpired(){confirm("This page has expired.\nWould you like to refresh the page?")&&location.reload()}refreshAll(){this.components.forEach(e=>{this.refresh(e)})}refresh(e,t=null,r=null,n=null){e.toggleLoads(!1);const i=new FormData;i.append("id",e.id),i.append("name",e.name),i.append("data",JSON.stringify(e.data)),i.append("checksum",e.checksum),i.append("route",e.route),r&&(i.append("method",r),n&&n.length&&i.append("params",JSON.stringify(n)));for(const t in e.files)Array.from(e.files[t]).forEach(e=>{i.append(t+"[]",e)});const o=new XMLHttpRequest;o.responseType="text",o.withCredentials=!0,o.open("POST",e.baseUrl+"reactables/update",!0),o.setRequestHeader("X-Reactables",!0),o.upload.onloadstart=t=>{e.dispatchComponentEvents([{name:"reactables:uploading",params:{loaded:t.loaded,total:t.total,percent:0}}])},o.upload.onprogress=t=>{const r=Math.round(t.loaded/t.total*100);e.dispatchComponentEvents([{name:"reactables:progress",params:{loaded:t.loaded,total:t.total,percent:r}}])},o.upload.onload=t=>{e.dispatchComponentEvents([{name:"reactables:uploaded",params:{loaded:t.loaded,total:t.total,percent:100}}])},o.upload.onerror=t=>{e.dispatchComponentEvents([{name:"reactables:failed"}])},o.onloadstart=()=>{e.dispatchComponentEvents([{name:"reactables:updating"}])},o.onload=()=>{if(200==o.status)try{const t=JSON.parse(o.responseText);if(!t.status)return o.onerror();if(t.redirect)return location.href=t.redirect;morphdom(e.el,t.html,{onNodeAdded:e=>{e.hasAttribute("r:id")&&(window.reactables.components.push(new ReactablesComponent(e)),e.skipAddingChildren=!0)},getNodeKey:e=>e.getAttribute("r:key")||e.id,onBeforeElUpdated:(t,r)=>(!t.hasAttribute("r:id")||t.getAttribute("r:id")===e.id)&&!t.isEqualNode(r)}),e.data=JSON.parse(t.data),e.files={},e.removeAttrs(),e.bind(),e.parseQuery(t.query),e.dispatchEvents(t.events.global),e.dispatchComponentEvents(t.events.component),e.dispatchBrowserEvents(t.events.browser),e.parseNavigateLinks(),e.toggleLoads(),e.removeInits(),e.dispatchComponentEvents([{name:"reactables:updated"}])}catch(e){console.error(e),o.onerror()}else 403==o.status?window.reactables.expiredHandler?window.reactables.expiredHandler({status:o.status,body:o.responseText}):window.reactables.showExpired():o.onerror()},o.onerror=()=>{e.dispatchComponentEvents([{name:"reactables:error"}]),window.reactables.errorHandler?window.reactables.errorHandler({status:o.status,body:o.responseText}):window.reactables.showError(o.responseText)},o.send(i)}navigate(e){const t=new XMLHttpRequest;t.responseType="document",t.withCredentials=!0,t.open("GET",e,!0),t.setRequestHeader("X-Reactables",!0);const r=Array.from(document.head.querySelectorAll("script"));t.onload=()=>{if(200==t.status)try{const n=t.getResponseHeader("X-Reactables-Redirect");if(n)return window.location=n;document.body=t.response.body,t.response.title&&(document.title=t.response.title),history.pushState({},"",e),window.reactables.init(),t.response.head&&t.response.head.querySelectorAll("script").forEach(e=>{if(e.hasAttribute("r:once"))return;if(r.some(t=>t.attributes===e.attributes||t.textContent===e.textContent))return;const t=document.createElement("script");Array.from(e.attributes).forEach(e=>t.setAttribute(e.name,e.value)),t.textContent=e.textContent,document.head.appendChild(t)}),document.body.querySelectorAll("script").forEach(e=>{if(e.hasAttribute("r:once"))return;const t=document.createElement("script");Array.from(e.attributes).forEach(e=>t.setAttribute(e.name,e.value)),t.textContent=e.textContent,e.parentNode.replaceChild(t,e)});const i=new CustomEvent("reactables:navigated");document.dispatchEvent(i)}catch(e){console.error(e),t.onerror()}else t.onerror()},t.onerror=()=>{window.reactables.errorHandler?window.reactables.errorHandler({status:t.status,body:t.response.documentElement.outerHTML}):window.reactables.showError(t.response.documentElement.outerHTML)};const n=new CustomEvent("reactables:navigating");document.dispatchEvent(n),t.send()}}class ReactablesComponent{el;id;name;checksum;data;baseUrl;route;files={};listeners={};constructor(e){this.el=e;const t=JSON.parse(this.el.getAttribute("r:data"));this.id=this.el.getAttribute("r:id"),this.name=t.name,this.data=JSON.parse(t.data),this.checksum=t.checksum,this.baseUrl=t.base_url,this.route=t.route,this.files={},this.listeners={},this.removeAttrs(),this.bind(),this.parseNavigateLinks(),this.toggleLoads(),this.runInits()}find(e){return Array.from(this.el.querySelectorAll(e)).filter(e=>e.closest("[r\\:id]")===this.el)}toggleLoads(e=!0){e?(this.find("[r\\:loading]").forEach(e=>{e.style.display="none"}),this.find("[r\\:ready]").forEach(e=>{const t=e.getAttribute("r:ready");e.style.display=t.length?t:"inline-block"}),this.find("[r\\:loading-class]").forEach(e=>{e.classList.remove(e.getAttribute("r:loading-class"))}),this.find("[r\\:ready-class]").forEach(e=>{e.classList.add(e.getAttribute("r:ready-class"))}),this.find("[r\\:loading-attr]").forEach(e=>{e.removeAttribute(e.getAttribute("r:loading-attr"))}),this.find("[r\\:ready-attr]").forEach(e=>{e.setAttribute(e.getAttribute("r:loading-attr"),"true")})):(this.find("[r\\:loading]").forEach(e=>{const t=e.getAttribute("r:loading");e.style.display=t.length?t:"inline-block"}),this.find("[r\\:ready]").forEach(e=>{e.style.display="none"}),this.find("[r\\:loading-class]").forEach(e=>{e.classList.add(e.getAttribute("r:loading-class"))}),this.find("[r\\:ready-class]").forEach(e=>{e.classList.remove(e.getAttribute("r:ready-class"))}),this.find("[r\\:loading-attr]").forEach(e=>{e.setAttribute(e.getAttribute("r:loading-attr"),"true")}),this.find("[r\\:ready-attr]").forEach(e=>{e.removeAttribute(e.getAttribute("r:loading-attr"))}))}removeAttrs(){this.el.removeAttribute("r:data")}bind(){this.bindModels(),this.bindEvents(),this.bindRepeats()}bindModels(){this.find("input[type=text][r\\:model], input[type=date][r\\:model], input[type=datetime-local][r\\:model], input[type=email][r\\:model], input[type=number][r\\:model], input[type=month][r\\:model], input[type=password][r\\:model], input[type=range][r\\:model], input[type=search][r\\:model], input[type=tel][r\\:model], input[type=time][r\\:model], input[type=url][r\\:model], input[type=color][r\\:model], input[type=week][r\\:model], textarea[r\\:model]").forEach(e=>{const t=e.getAttribute("r:model").trim(),r=e.hasAttribute("r:lazy"),n=e.getAttribute("r:debounce")||250,i=this.getValueDotNotation(this.data,t);void 0!==i&&(e.value=i),e.removeEventListener("input",e.listenerRef),e.listenerRef=()=>{this.setValueDotNotation(this.data,t,e.value),r||(n?(e.timeoutRef&&clearTimeout(e.timeoutRef),e.timeoutRef=setTimeout(()=>{window.reactables.refresh(this,e)},n)):window.reactables.refresh(this,e))},e.addEventListener("input",e.listenerRef),e.removeAttribute("r:model"),e.removeAttribute("r:lazy"),e.removeAttribute("r:debounce")}),this.find("input[type=checkbox][r\\:model], input[type=radio][r\\:model]").forEach(e=>{const t=e.getAttribute("r:model").trim(),r=e.hasAttribute("r:lazy"),n=e.getAttribute("r:debounce"),i=t.replace("[]",""),o=e.getAttribute("value"),a=this.getValueDotNotation(this.data,i);t.endsWith("[]")?Array.isArray(a)&&o&&a.some(e=>e==o)&&(e.checked=!0):void 0!==a&&(o?a==o&&(e.checked=!0):e.checked=a),e.removeEventListener("input",e.listenerRef),e.listenerRef=()=>{if(t.endsWith("[]")){if(Array.isArray(a)||(a=[]),o)if(e.checked)a.push(o);else{const e=a.findIndex(e=>e==o);-1!==e&&a.splice(e,1)}this.setValueDotNotation(this.data,i,a)}else o?this.setValueDotNotation(this.data,t,!!e.checked&&o):this.setValueDotNotation(this.data,t,e.checked);r||(n?(e.timeoutRef&&clearTimeout(e.timeoutRef),e.timeoutRef=setTimeout(()=>{window.reactables.refresh(this,e)},n)):window.reactables.refresh(this,e))},e.addEventListener("input",e.listenerRef),e.removeAttribute("r:model"),e.removeAttribute("r:lazy"),e.removeAttribute("r:debounce")}),this.find("select[r\\:model]").forEach(e=>{const t=e.getAttribute("r:model").trim(),r=e.hasAttribute("r:lazy"),n=e.getAttribute("r:debounce"),i=t.replace("[]",""),o=this.getValueDotNotation(this.data,i);t.endsWith("[]")?Array.isArray(o)&&Array.from(e.options).forEach(e=>{o.some(t=>t==e.value)&&(e.selected=!0)}):void 0!==o&&(e.value=o),e.removeEventListener("input",e.listenerRef),e.listenerRef=()=>{if(t.endsWith("[]")){const t=[];Array.from(e.selectedOptions).forEach(e=>{t.push(e.value)}),this.setValueDotNotation(this.data,i,t)}else this.setValueDotNotation(this.data,i,e.value);r||(n?(e.timeoutRef&&clearTimeout(e.timeoutRef),e.timeoutRef=setTimeout(()=>{window.reactables.refresh(this,e)},n)):window.reactables.refresh(this,e))},e.addEventListener("input",e.listenerRef),e.removeAttribute("r:model"),e.removeAttribute("r:lazy"),e.removeAttribute("r:debounce")}),this.find("input[type=file][r\\:model]").forEach(e=>{const t=e.getAttribute("r:model").trim(),r=e.hasAttribute("r:lazy"),n=e.getAttribute("r:debounce");e.removeEventListener("input",e.listenerRef),e.listenerRef=()=>{this.files[t]=e.files,r||(n?(e.timeoutRef&&clearTimeout(e.timeoutRef),e.timeoutRef=setTimeout(()=>{window.reactables.refresh(this,e)},n)):window.reactables.refresh(this,e))},e.addEventListener("input",e.listenerRef),e.removeAttribute("r:model"),e.removeAttribute("r:lazy"),e.removeAttribute("r:debounce")})}getValueDotNotation(e,t){return t.split(".").reduce((e,t)=>e[t],e)}setValueDotNotation(e,t,r){if(Array.isArray(t)||(t=t.split(".")),1!==t.length)return e[t[0]]||(e[t[0]]={}),this.setValueDotNotation(e[t[0]],t.slice(1),r);e[t[0]]=r}bindEvents(){this.find("[r\\:submit]").forEach(e=>{this.defaultEventBinder(e,"submit","r:submit")}),this.find("[r\\:change]").forEach(e=>{this.defaultEventBinder(e,"change","r:change")}),this.find("[r\\:focus]").forEach(e=>{this.defaultEventBinder(e,"focus","r:focus")}),this.find("[r\\:blur]").forEach(e=>{this.defaultEventBinder(e,"blur","r:blur")}),this.find("[r\\:click]").forEach(e=>{this.defaultEventBinder(e,"click","r:click")}),this.find("[r\\:hover]").forEach(e=>{this.defaultEventBinder(e,"mouseover","r:hover")}),this.find("[r\\:move]").forEach(e=>{this.defaultEventBinder(e,"mousemove","r:move")}),this.find("[r\\:leave]").forEach(e=>{this.defaultEventBinder(e,"mouseleave","r:leave")}),this.find("[r\\:enter]").forEach(e=>{this.defaultEventBinder(e,"keydown","r:enter","Enter")}),this.find("[r\\:tab]").forEach(e=>{this.defaultEventBinder(e,"keydown","r:tab","Tab")}),this.find("[r\\:esc]").forEach(e=>{this.defaultEventBinder(e,"keydown","r:esc","Escape")})}defaultEventBinder(e,t,r,n=!1){const i=e.getAttribute(r).trim(),o=e.hasAttribute("r:follow"),a=e.getAttribute("r:debounce"),s=e.getAttribute("r:confirm"),d=t+"Ref";e.removeEventListener(t,e[d]),e[d]=r=>{if(n&&r.key!==n)return;if(s&&!window.confirm(s))return r.preventDefault();o||r.preventDefault();const d=i.trim().match(/^([$a-zA-Z_][a-zA-Z0-9_]*)\((.*)\)$/);let l=null,u=[];if(d){l=d[1];const e=d[2].trim().replace(/'([^']*)'/g,(e,t)=>`"${t}"`);try{u=JSON.parse(`[${e}]`)}catch(r){console.log(r)}}else l=i.trim();if(a){const r=t+"DebounceRef";e[r]&&clearTimeout(e[r]),e[r]=setTimeout(()=>{window.reactables.refresh(this,e,l,u)},a)}else window.reactables.refresh(this,e,l,u)},e.addEventListener(t,e[d]),e.removeAttribute(r),e.removeAttribute("r:follow"),e.removeAttribute("r:debounce"),e.removeAttribute("r:confirm")}bindRepeats(){this.find("[r\\:repeat][r\\:interval]").forEach(e=>{const t=e.getAttribute("r:repeat").trim(),r=e.getAttribute("r:interval"),n=e.getAttribute("r:timeout");n?(e.repeatTimeoutRef&&clearTimeout(e.repeatTimeoutRef),e.repeatTimeoutRef=setTimeout(()=>{e.repeatIntervalRef&&clearInterval(e.repeatIntervalRef),e.repeatIntervalRef=setInterval(()=>{window.reactables.refresh(this,e,t)},r)},n)):(e.repeatIntervalRef&&clearInterval(e.repeatIntervalRef),e.repeatIntervalRef=setInterval(()=>{window.reactables.refresh(this,e,t)},r)),e.removeAttribute("r:repeat"),e.removeAttribute("r:interval"),e.removeAttribute("r:timeout")})}runInits(){this.find("[r\\:init]").forEach(e=>{const t=e.getAttribute("r:init").trim(),r=e.getAttribute("r:timeout");r?(e.initTimeoutRef&&clearTimeout(e.initTimeoutRef),e.initTimeoutRef=setTimeout(()=>{window.reactables.refresh(this,e,t)},r)):window.reactables.refresh(this,e,t),e.removeAttribute("r:init"),e.removeAttribute("r:timeout")})}removeInits(){this.find("[r\\:init]").forEach(e=>{e.removeAttribute("r:init"),e.removeAttribute("r:timeout")})}parseQuery(e){let t=location.pathname;e&&e.length&&(t+="?"+e),location.hash&&(t+=location.hash),t!=location.href&&history.pushState({},"",t)}dispatchEvents(e){e&&e.length&&e.forEach(e=>{window.reactables.listeners[e.name]&&window.reactables.listeners[e.name].forEach(t=>{t({target:this,params:e.params??[]})})})}dispatchComponentEvents(e){e&&e.length&&e.forEach(e=>{this.listeners[e.name]&&this.listeners[e.name].forEach(t=>{t({target:this,params:e.params??{}})})})}dispatchBrowserEvents(e){e&&e.length&&e.forEach(e=>{const t=new CustomEvent(e.name,{detail:e.params??{}});document.dispatchEvent(t)})}parseNavigateLinks(){this.find("[r\\:navigate]").forEach(e=>{const t=e.getAttribute("href").trim();e.removeEventListener("click",e.navigateRef),e.navigateRef=e=>{e.preventDefault(),window.reactables.navigate(t)},e.addEventListener("click",e.navigateRef),e.removeAttribute("r:navigate")})}on(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}}document.addEventListener("DOMContentLoaded",()=>{window.reactables?console.error("[Reactables] You don't neet to included the assets more than once!"):(window.reactables=new Reactables,window.Reactables=window.reactables,window.reactables.init())});